<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"/>
<script src="https://cdn.jsdelivr.net/npm/jquery/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<div id="content"></div>
<script>
  function getQueryVariable(variable)
  {
    var query = window.location.search.substring(1);
    var vars = query.split("&");
    for (var i=0;i<vars.length;i++) {
      var pair = vars[i].split("=");
      if(pair[0] == variable){return pair[1];}
    }
    return false;
  }
  function md(str)
  {
    document.getElementById('content').innerHTML = 
    document.getElementById('content').innerHTML+marked(str)+"\n\n";
  }
  function changeFrameHeight(that)
  {
    $(that).height(document.documentElement.clientHeight-120);
  }
</script>
<script>
  if(getQueryVariable("name")==false||getQueryVariable("id")==false)
  {
    md("# 404");
    md("## 没有搜索数据！");
  }
  else
  {
    document.write("<title>"+decodeURI(getQueryVariable("name"))+"-第"+getQueryVariable("id")+"章</title>");
    md("# "+decodeURI(getQueryVariable("name"))+"-第"+getQueryVariable("id")+"章");
    document.write(
      "<iframe height=\"100%\" width=\"100%\" onload=\"changeFrameHeight(this)\" src=\"https://mysterious-Palace.github.io/markdown/article/"
      +decodeURI(getQueryVariable("name"))+"/"
      +getQueryVariable("id")+".html\" name=\"iframe1\"></iframe>"
    );
    document.write("<br/>");
    if(Number(getQueryVariable("id"))>1)
      document.write(
        "<div style=\"display:block;float:left;\"><a href=\"?name="+getQueryVariable("name")
        +"&id="+String(Number(getQueryVariable("id"))-1)
        +"\">上一章</a></div>"
      );
    document.write(
      "<div style=\"display:block;float:right;\"><a href=\"?name="+getQueryVariable("name")
      +"&id="+String(Number(getQueryVariable("id"))+1)
      +"\">下一章</a></div>"
    );
  }
</script>
</html>
